-- Order Service Seed Data (Development)
\c order_service;

-- Clear existing seed data
DELETE FROM shipping_addresses WHERE order_id IN (SELECT id FROM orders WHERE user_id LIKE '00000000-0000-4000-a000-%');
DELETE FROM order_items WHERE order_id IN (SELECT id FROM orders WHERE user_id LIKE '00000000-0000-4000-a000-%');
DELETE FROM orders WHERE user_id LIKE '00000000-0000-4000-a000-%';
DELETE FROM cart_items WHERE cart_id IN (SELECT id FROM carts WHERE user_id LIKE '00000000-0000-4000-a000-%');
DELETE FROM carts WHERE user_id LIKE '00000000-0000-4000-a000-%';

-- Insert carts
INSERT INTO carts (id, user_id, total_price, updated_at) VALUES
('00000000-0000-4000-c000-000000000001', '00000000-0000-4000-a000-000000000005', 11.95, CURRENT_TIMESTAMP),
('00000000-0000-4000-c000-000000000002', '00000000-0000-4000-a000-000000000006', 19.95, CURRENT_TIMESTAMP),
('00000000-0000-4000-c000-000000000003', '00000000-0000-4000-a000-000000000007', 0.00, CURRENT_TIMESTAMP);

-- Cart items
INSERT INTO cart_items (id, cart_id, product_id, name, price, quantity) VALUES
('00000000-0000-4000-c100-000000000001', '00000000-0000-4000-c000-000000000001', 'prod_001_apple', 'Organic Apple', 2.99, 3),
('00000000-0000-4000-c100-000000000002', '00000000-0000-4000-c000-000000000001', 'prod_002_tomato', 'Fresh Tomato', 1.49, 2),
('00000000-0000-4000-c100-000000000003', '00000000-0000-4000-c000-000000000002', 'prod_004_mango', 'Fresh Mango', 3.99, 5);

-- Orders
INSERT INTO orders (id, user_id, total_amount, status, created_at, updated_at) VALUES
('00000000-0000-4000-b000-000000000001', '00000000-0000-4000-a000-000000000005', 45.95, 'DELIVERED', '2026-01-15 10:30:00', '2026-01-20 14:00:00'),
('00000000-0000-4000-b000-000000000002', '00000000-0000-4000-a000-000000000005', 29.90, 'SHIPPED', '2026-01-28 15:45:00', '2026-01-30 09:30:00'),
('00000000-0000-4000-b000-000000000003', '00000000-0000-4000-a000-000000000006', 67.46, 'CONFIRMED', '2026-01-30 11:20:00', '2026-01-30 14:15:00'),
('00000000-0000-4000-b000-000000000004', '00000000-0000-4000-a000-000000000007', 19.95, 'PENDING', '2026-02-01 09:00:00', '2026-02-01 09:00:00');

-- Order items
INSERT INTO order_items (id, order_id, product_id, name, price, quantity) VALUES
('00000000-0000-4000-b100-000000000001', '00000000-0000-4000-b000-000000000001', 'prod_001_apple', 'Organic Apple', 2.99, 5),
('00000000-0000-4000-b100-000000000002', '00000000-0000-4000-b000-000000000001', 'prod_003_potatoes', 'Organic Potatoes', 4.99, 3),
('00000000-0000-4000-b100-000000000003', '00000000-0000-4000-b000-000000000001', 'prod_013_orange', 'Fresh Orange', 3.49, 4),
('00000000-0000-4000-b100-000000000004', '00000000-0000-4000-b000-000000000002', 'prod_002_tomato', 'Fresh Tomato', 1.49, 10),
('00000000-0000-4000-b100-000000000005', '00000000-0000-4000-b000-000000000002', 'prod_005_cabbage', 'Fresh Cabbage', 2.99, 5),
('00000000-0000-4000-b100-000000000006', '00000000-0000-4000-b000-000000000003', 'prod_004_mango', 'Fresh Mango', 3.99, 8),
('00000000-0000-4000-b100-000000000007', '00000000-0000-4000-b000-000000000003', 'prod_006_capsicum', 'Green Capsicum', 2.49, 6),
('00000000-0000-4000-b100-000000000008', '00000000-0000-4000-b000-000000000003', 'prod_007_cauliflower', 'Fresh Cauliflower', 3.99, 4),
('00000000-0000-4000-b100-000000000009', '00000000-0000-4000-b000-000000000004', 'prod_008_chili', 'Red Chili', 0.99, 10),
('00000000-0000-4000-b100-000000000010', '00000000-0000-4000-b000-000000000004', 'prod_012_lettuce', 'Fresh Lettuce', 1.99, 5);

-- Shipping addresses
INSERT INTO shipping_addresses (id, order_id, street, city, zip, country) VALUES
('00000000-0000-4000-b200-000000000001', '00000000-0000-4000-b000-000000000001', '123 Apple Street', 'New York', '10001', 'USA'),
('00000000-0000-4000-b200-000000000002', '00000000-0000-4000-b000-000000000002', '123 Apple Street', 'New York', '10001', 'USA'),
('00000000-0000-4000-b200-000000000003', '00000000-0000-4000-b000-000000000003', '456 Mango Avenue', 'Los Angeles', '90001', 'USA'),
('00000000-0000-4000-b200-000000000004', '00000000-0000-4000-b000-000000000004', '789 Chili Lane', 'Chicago', '60601', 'USA');

SELECT 'Orders seeded: ' || COUNT(*) FROM orders;
